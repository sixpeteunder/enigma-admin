<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Home | Enigma</title>
    <link rel="shortcut icon" href="image/favicon.png" type="image/x-icon">
    <!-- Bootstrap , fonts & icons  -->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="fonts/icon-font/css/style.css">
    <link rel="stylesheet" href="fonts/typography-font/typo.css">
    <link rel="stylesheet" href="fonts/fontawesome-5/css/all.css">
    <!-- Plugin'stylesheets  -->
    <link rel="stylesheet" href="plugins/aos/aos.min.css">
    <link rel="stylesheet" href="plugins/fancybox/jquery.fancybox.min.css">
    <link rel="stylesheet" href="plugins/nice-select/nice-select.min.css">
    <link rel="stylesheet" href="plugins/slick/slick.min.css">
    <!-- Vendor stylesheets  -->
    <link rel="stylesheet" href="css/main.css">
    <!-- Custom stylesheet -->
</head>

<body data-theme-mode-panel-active data-theme="light" style="font-family: 'Mazzard H',sans-serif;">
<div class="site-wrapper overflow-hidden position-relative">
    <!-- HEADER -->
    <header
            class="site-header site-header--menu-right sticky-menu-bg dark-mode-texts site-header--absolute site-header--sticky">
        <div class="container">
            <nav class="navbar site-navbar">
                <div class="brand-logo">
                    <a href="#" style="color: white; font-size: 1.5em;">Enigma</a>
                </div>
                <div class="menu-block-wrapper">
                    <div class="menu-overlay"></div>
                    <nav class="menu-block" id="append-menu-header">
                        <div class="mobile-menu-head">
                            <div class="go-back">
                                <i class="fa fa-angle-left"></i>
                            </div>
                            <div class="current-menu-title"></div>
                            <div class="mobile-menu-close">&times;</div>
                        </div>
                        <ul class="site-menu-main">
                            <li class="nav-item">
                                <a href="#contact" class="nav-link-item">Report an Incident</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="mobile-menu-trigger">
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- HERO -->
    <div class="hero-area-l3 background-property" style="background: url(image/landing-3/hero.jpg); height: 100vh;">
        <div class="hero-l3-shape-1 d-none d-lg-block" data-aos="fade-up" data-aos-delay="1000"
             data-aos-duration="1000">
            <img class="horizontal-move" src="image/landing-3/banner-shape-1.png" alt="image">
        </div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="offset-xxl-7 col-xxl-5 offset-xl-6 col-xl-6 offset-lg-4 col-lg-8 col-md-10"
                     data-aos="fade-up"
                     data-aos-delay="500" data-aos-duration="1000">
                    <div class="banner-content">
                        <div class="hero-l3-shape-2 d-none d-md-block" data-aos="fade-up" data-aos-delay="700"
                             data-aos-duration="1000">
                            <img class="vertical-move" src="image/landing-3/banner-shape-2.png" alt="image">
                        </div>
                        <div class="content">
                            <h2>Help us help you fight corruption!</h2>
                            <p>We use cutting-edge technologies and techniques to detect fraud and protect your
                                identity. Dial <a
                                        href="tel:*384#">*384#</a> today to report an incident.</p>
                        </div>
                        <div class="hero-l3-btn-group">
                            <a href="#contact" class="btn focus-reset btn-style-04 lets-talk-btn">Report an Incident</a>
                            <a href="#about" class="btn focus-reset view-works-btn">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FEATURES -->
    <div id="hero" class="feature-area-l3">
        <div class="container">
            <div class="row feature-l3-1-items justify-content-center">
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="400" data-aos-duration="1000">
                    <div class="feature-card d-flex">
                        <div class="number">
                            <span>01</span>
                        </div>
                        <div class="content">
                            <h4>Safe</h4>
                            <p>Your identity and location is never revealed to anyone.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="600" data-aos-duration="1000">
                    <div class="feature-card d-flex">
                        <div class="number">
                            <span>02</span>
                        </div>
                        <div class="content">
                            <h4>Fast</h4>
                            <p>It takes less than 5 minutes to report an incident.</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="800" data-aos-duration="1000">
                    <div class="feature-card d-flex">
                        <div class="number">
                            <span>03</span>
                        </div>
                        <div class="content">
                            <h4>Free</h4>
                            <p>It does not cost anything to use the system.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CONTENT  -->
    <div id="about" class="content-are-l3-1">
        <div class="container">
            <div class="row justify-content-center align-items-center">
                <div class="col-lg-5 col-md-10" data-aos="fade-right" data-aos-delay="400" data-aos-duration="1000">
                    <div class="content-are-l3-1-content section__heading text-center text-lg-start">
                        <h2>Learn more about Enigma</h2>
                        <p>Would you like to know more about what we do and why we do it?</p>
                        <a href="#services" class="btn btn-style-04 focus-reset lets-talk-btn">Learn More</a>
                    </div>
                </div>
                <div class="offset-lg-2 col-lg-5 col-md-8" data-aos="fade-left" data-aos-delay="400"
                     data-aos-duration="1000">
                    <div class="content-l3-1-counter-area">
                        <div class="content-l3-1-image ">
                            <img class="w-100 d-none d-md-block" src="image/landing-3/counter-img.jpg" alt="img">
                            <div class="counter-box-l3 text-center text-md-start">
                                <div class="counter-items">
                                    <div class="counter-content">
                                        <h2><span class="counter">608.0</span>bn</h2>
                                        <p>Kenya Shillings lost to<br> fraud in Kenya every year</p>
                                    </div>
                                    <div class="counter-content"> 
                                        <h2><span class="counter">7.8</span>%</h2>
                                        <p>Percentage of the <abbr title="Gross Domestic Product">GDP</abbr><br> this represents</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SERVICES -->
    <div id="services" class="service-area-l3 bg-athensgray">
        <div class="container">
            <div class="row justify-content-center align-items-center">
                <div class="col-xxl-5 col-xl-6 col-lg-6 col-md-10">
                    <div class="service-l3-content">
                        <div class="section__heading" data-aos="fade-up" data-aos-delay="400" data-aos-duration="1000">
                            <h2>How we can help you</h2>
                        </div>
                        <div class="service-card-area">
                            <div class="service-single-card d-flex" data-aos="fade-up" data-aos-delay="600"
                                 data-aos-duration="1000">
                                <div class="icon-box">
                                    <img src="image/landing-3/coins.png" alt="image">
                                    <div class="icon-bg">
                                        <img class="vertical-move" src="image/landing-3/coin-bg.png" alt="image">
                                    </div>
                                </div>
                                <div class="content-box">
                                    <h4>Economic Savings</h4>
                                    <p>The country currently loses a lot of money to fraud, which could be put to better
                                        use.</p>
                                </div>
                            </div>
                            <div class="service-single-card d-flex" data-aos="fade-up" data-aos-delay="800"
                                 data-aos-duration="1000">
                                <div class="icon-box">
                                    <img src="image/landing-3/cycling-track.png" alt="image">
                                    <div class="icon-bg-2">
                                        <img class="horizontal-move" src="image/landing-3/cycle-bg.png" alt="image">
                                    </div>
                                </div>
                                <div class="content-box">
                                    <h4>Streamline Processes</h4>
                                    <p>More streamlined processes result in a lower chance for occurrence of fraud.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="offset-xxl-1 col-xxl-6 col-xl-6 col-lg-6 col-md-10" data-aos="fade-left"
                     data-aos-delay="600"
                     data-aos-duration="1000">
                    <div class="service-l3-card-right">
                        <div class="ser-card-right-shape d-none d-sm-block">
                            <img class="swing-2" src="image/landing-3/chain-shape-1.png" alt="image">
                        </div>
                        <h4>Modern Approach & Strategy</h4>
                        <p>Our solution uses cutting-edge techniques and technologies which we are confident will prove
                            effective
                            in the fight against corruption.</p>
                        <a href="#contact" class="btn focus-reset">Make a report <i class="fas fa-angle-right"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CONTACT -->
    <div id="contact" class="contact-form-l3-area position-relative overflow-hidden bg-mirage">
        <div class="contact-l3-image-group">
            <div class="image-1 d-none d-md-block" data-aos="fade-up" data-aos-delay="300" data-aos-duration="1000">
                <img class="vertical-move" src="image/landing-3/con-shape-1.png" alt="image">
            </div>
            <div class="image-2 d-none d-lg-block" data-aos="fade-up" data-aos-delay="400" data-aos-duration="1000">
                <img class="spin" src="image/landing-3/con-shape-2.png" alt="image">
            </div>
            <div class="image-3 d-none d-lg-block" data-aos="fade-up" data-aos-delay="500" data-aos-duration="1000">
                <img class="spin" src="image/landing-3/con-shape-3.png" alt="image">
            </div>
            <div class="image-4 d-none d-md-block" data-aos="fade-up" data-aos-delay="600" data-aos-duration="1000">
                <img class="horizontal-move" src="image/landing-3/con-shape-4.png" alt="image">
            </div>
            <div class="image-5 d-none d-lg-block" data-aos="fade-up" data-aos-delay="700" data-aos-duration="1000">
                <img class="spin" src="image/landing-3/con-shape-5.png" alt="image">
            </div>
            <div class="image-6 d-none d-md-block" data-aos="fade-up" data-aos-delay="800" data-aos-duration="1000">
                <img class="vertical-move" src="image/landing-3/con-shape-6.png" alt="image">
            </div>
        </div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xxl-6 col-xl-7 col-lg-8 col-md-9" data-aos="fade-up" data-aos-delay="500"
                     data-aos-duration="1000">
                    <div class="contact-form-box">
                        <div class="section__heading text-center">
                            <h2>Report an occurrence of corruption</h2>
                        </div>
                        <form action="#" class="contact-form-l3">
                            <div class="form-group">
                                <label for="subject">Subject</label>
                                <input type="text" name="subject" id="subject" class="form-control"
                                       placeholder="Who does this concern?">
                            </div>
                            <div class="form-group">
                                <label for="organization">Organization</label>
                                <input type="text" name="organization" id="organization" class="form-control"
                                       placeholder="What organization does this concern?">
                            </div>
                            <div class="form-group">
                                <label for="subjectPosition">Subject Position</label>
                                <input type="text" name="subjectPosition" id="subjectPosition" class="form-control"
                                       placeholder="What is the subject's position within the organization?">
                            </div>
                            <div class="form-group">
                                <label for="organizationType">Organization Type</label>
                                <input type="text" name="organizationType" id="organizationType" class="form-control"
                                       placeholder="What does this organization deal in?">
                            </div>
                            <div class="form-group">
                                <label for="description">Description</label>
                                <textarea name="description" id="description" class="form-control"
                                          placeholder="Add some detail about the incident. Avoid including information that may be used to identify you..."></textarea>
                            </div>
                            <div class="form-group">
                                <label for="documents">Supporting Documents</label>
                                <input type="file" name="documents" id="documents" multiple
                                       class="form-control" style="padding: 0.375rem 0.75rem;">
                            </div>
                            <div class="send-btn">
                                <button class="btn btn-style-04" onclick="submitReport(event)">Report</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer-area-l3 bg-skeptic position-relative">
        <div class="container">
            <div class="row justify-content-center footer-l3-area-items">
                <div class="col-xl-4 col-lg-4 col-sm-9">
                    <div class="footer-content-l3 text-sm-center text-lg-start">
                        <a href="#" style="font-size: 1.5em;">Enigma</a>
                        <p>Help us help you bring change, today.</p>
                    </div>
                </div>
                <div class="offset-xl-2 col-xl-2 col-lg-3 col-sm-4">
                    <h3>Quick Links</h3>
                    <ul class="list-unstyled">
                        <li><a href="#about">About Enigma</a></li>
                        <li><a href="#services">How we can help you</a></li>
                        <li><a href="admin/auth.html">Administrator Login</a></li>
                    </ul>
                </div>
                <div class="col-xl-2 col-lg-3 col-sm-4">
                    <h3>Reach Out</h3>
                    <ul class="list-unstyled">
                        <li><a href="#">Twitter</a></li>
                        <li><a href="mailto:plenjo15@gmail.com">Email</a></li>
                        <li><a href="tel:0798567790">Telephone</a></li>
                    </ul>
                </div>
                <div class="col-xl-2 col-lg-2 col-sm-4">
                    <h3>Make a Report</h3>
                    <ul class="list-unstyled">
                        <li><a href="#contact">Fill the form</a></li>
                        <li><a href="tel:*384#">Dial *384#</a></li>
                        <li><a href="sms:12345">Send an SMS</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
</div>
<!-- Vendor Scripts -->
<script src="js/vendor.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<!-- Plugin's Scripts -->
<script src="plugins/fancybox/jquery.fancybox.min.js"></script>
<script src="plugins/nice-select/jquery.nice-select.min.js"></script>
<script src="plugins/aos/aos.min.js"></script>
<script src="plugins/slick/slick.min.js"></script>
<script src="plugins/waypoints.min.js"></script>
<script src="plugins/counter-up/jquery.counterup.min.js"></script>
<script src="plugins/menu/menu.js"></script>
<!-- Activation Script -->
<script src="js/custom.js"></script>
<script>
    // const url = "https://localhost:7162/api/reports";
    const url = "https://enigma-demoserver.herokuapp.com/api/reports";
    const source = 1;

    const subjectInput = document.getElementById("subject");
    const organizationInput = document.getElementById("organization");
    const positionInput = document.getElementById("subjectPosition");
    const organizationTypeInput = document.getElementById("organizationType");
    const descriptionInput = document.getElementById("description");
    const supportingDocumentsInput = document.getElementById("supportingDocuments")
    
    /** @var {HTMLFormElement} form */
    const form = document.getElementsByClassName("contact-form-l3")[0];

    async function submitReport(event) {
        showFormMessage("Submitting your report...");
        event.preventDefault();
        console.log(event);
        const subject = subjectInput.value;
        const organization = organizationInput.value;
        const position = positionInput.value;
        const organizationType = organizationTypeInput.value;
        const description = descriptionInput.value; 


        if (subject === "" || organization === "" || position === "" || organizationType === "" || description === "") {
            showFormMessage("Please fill in all the fields", true);
            event.preventDefault();
            return;
        }

        const formData = new FormData(form);
        formData.append("source", source.toString());

        let message = "";
        let error = false;

        try {
            let result = await axios.post(url, formData, {
                headers: {
                    'Content-Type': 'multipart/form-data',
                    'X-Enigma-Source': source
                }
            });
            message = `Your report has been submitted successfully! Your reference number is ${result.reference}.`;

            subjectInput.value = "";
            organizationInput.value = "";
            positionInput.value = "";
            organizationTypeInput.value = "";
            descriptionInput.value = "";
        } catch (exception) {
            message = "There was an error submitting your report. Please try again later.";
            error = true;
            console.log(exception);
        }

        showFormMessage(message, error);
        event.preventDefault();
    }

    function showFormMessage(message, error = false) {
        const divId = "form-message";

        if (document.getElementById(divId)) document.getElementById(divId).remove();

        const div = document.createElement("div");
        div.id = divId;
        div.className = `alert alert-${error ? 'secondary' : 'primary'} mb-4"`
        div.innerHTML = message;

        form.insertBefore(div, form.firstChild);
        setTimeout(() => div.remove(), 5000);
    }
    
    function setSampleFormData() {
        subjectInput.value = "Mr. Person ";
        organizationInput.value = "Sample Organization";
        positionInput.value = "Sample Position";
        organizationTypeInput.value = "Sample Organization Type";
        descriptionInput.value = "Sample Description";
    }
</script>
</body>

</html>